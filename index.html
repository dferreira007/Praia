<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Contagem regressiva - Viagem pra praia</title>
<style>
  :root {
    --bg-sky: #87CEEB;
    --sand: #F4D79F;
    --card: #ffffffcc;
    --sea: #65a9d1;
    --sun: #FFD700;
    --palm-green: #388e3c;
    --palm-trunk: #795548;
    --cloud: #ffffff;
    --dog-brown: #964B00;
    --crab-red: #d90429;
    /* Cores de Personagens */
    --skin-light: #fce4d6;
    --skin-dark: #603813;
    --hair-black: #2c2c2c;
    --hair-brown: #8b4513;
    --hair-blond: #f0e68c;
  }

  * { box-sizing: border-box; font-family: 'Inter', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; }

  body {
    margin: 0;
    min-height: 100vh;
    background: linear-gradient(180deg, var(--bg-sky) 0%, #a0e3f7 40%, #f5f7ff 60%);
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 24px;
    color: #0b2545;
  }

  .stage {
    width: 100%;
    max-width: 1100px;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.35), rgba(255, 255, 255, 0.05));
    border-radius: 20px;
    padding: 28px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.12);
    position: relative;
    overflow: hidden;
  }

  header { display: flex; align-items: center; justify-content: space-between; gap: 20px; position: relative; z-index: 5; }
  h1 { font-size: 1.8rem; margin: 0 0 6px 0; letter-spacing: 0.2px; }
  p.lead { margin: 0; color: #083252a8; font-size: 0.95rem; }

  .countdown { display: flex; gap: 12px; margin: 18px 0 20px; position: relative; z-index: 5; flex-wrap: wrap; }
  .time-card { background: var(--card); padding: 14px 18px; border-radius: 12px; min-width: 96px; text-align: center; box-shadow: 0 6px 18px rgba(8, 37, 82, 0.06); animation: popIn .8s both; }
  @keyframes popIn { from { opacity: 0; transform: translateY(14px) scale(.98); } to { opacity: 1; transform: translateY(0) scale(1); } }
  .time-card .num { font-size: 1.6rem; font-weight: 700; }
  .time-card .lbl { font-size: 0.85rem; color: #123c57a6; margin-top: 6px; }
  
  /* --- CENA PRINCIPAL --- */
  .animation-scene {
    width: 100%;
    height: 380px;
    margin-top: 20px;
    position: relative;
    overflow: hidden;
    border-radius: 15px;
    background: linear-gradient(180deg, var(--bg-sky) 0%, #a0e3f7 100%);
    box-shadow: inset 0 -10px 20px rgba(0,0,0,0.1);
  }

  .sky { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
  .sun-beach { position: absolute; top: 30px; right: 50px; width: 70px; height: 70px; background: var(--sun); border-radius: 50%; box-shadow: 0 0 30px var(--sun); z-index: 1; animation: pulse-sun 3s ease-in-out infinite alternate; }
  @keyframes pulse-sun { from { transform: scale(1); } to { transform: scale(1.05); } }

  .cloud { position: absolute; background: var(--cloud); border-radius: 50%; opacity: 0.7; animation: move-cloud var(--duration) linear infinite; z-index: 0; }
  .cloud:nth-child(1) { width: 80px; height: 30px; top: 30px; left: -10%; --duration:25s; }
  .cloud:nth-child(2) { width: 120px; height: 40px; top: 60px; left: -20%; --duration:30s; animation-delay: 5s;}
  @keyframes move-cloud { from { transform: translateX(-150px); } to { transform: translateX(1200px); } }

  .beach-scene { position: absolute; bottom: 0; left: 0; width: 100%; height: 70%; background: var(--sand); z-index: 1; }
  .sea-scene { position: absolute; top: 0; left: 0; width: 100%; height: 60%; background: linear-gradient(to top, var(--sea) 0%, #4682B4 100%); }

  .waves-animated { position: absolute; width: 100%; height: 20px; background: rgba(255,255,255,0.8); border-radius: 50%; bottom: 55%; left: 0; z-index: 2; animation: waves-motion 4s ease-in-out infinite alternate; }
  .waves-animated::before, .waves-animated::after { content: ''; position: absolute; width: 80%; height: 100%; background: rgba(255,255,255,0.6); border-radius: 50%; opacity: 0.8; }
  .waves-animated::before { left: -10%; top: 5px; animation: waves-motion-alt 3s ease-in-out infinite alternate; }
  .waves-animated::after { right: -10%; top: -5px; animation: waves-motion 3.5s ease-in-out infinite alternate reverse; }
  @keyframes waves-motion { from { transform: translateX(0) scaleX(1); } to { transform: translateX(20px) scaleX(1.05); } }
  @keyframes waves-motion-alt { from { transform: translateX(0) scaleX(1.05); } to { transform: translateX(-20px) scaleX(1); } }

  .palm-tree-beach { position: absolute; bottom: 70px; width: 60px; height: 160px; z-index: 3; animation: palm-sway 5s ease-in-out infinite alternate; }
  .palm-tree-beach.left { left: 8%; transform-origin: bottom center; }
  .palm-tree-beach.right { right: 8%; transform-origin: bottom center; animation-delay: 2s; }
  @keyframes palm-sway { from { transform: rotate(0deg); } to { transform: rotate(5deg); } }
  .palm-trunk { width: 12px; height: 100%; background: var(--palm-trunk); border-radius: 6px; position: absolute; left: 50%; transform: translateX(-50%); }
  .palm-leaves { position: absolute; top: -40px; left: -30px; width: 60px; height: 60px; background: var(--palm-green); border-radius: 50%; box-shadow: -20px -10px 0 var(--palm-green), 20px -10px 0 var(--palm-green), 0px -35px 0 var(--palm-green); }

  /* --- NOVOS ELEMENTOS DA PRAIA --- */
  .guarda-sol { position: absolute; bottom: 80px; left: 25%; width: 10px; height: 120px; z-index: 4; animation: sway 4s ease-in-out infinite alternate; }
  .guarda-sol::before { content:''; position: absolute; bottom: 0; width: 100%; height: 100%; background: #fff; border-radius: 5px; }
  .guarda-sol::after { content:''; position: absolute; top: 0; left: 50%; transform: translateX(-50%); width: 120px; height: 80px; background: repeating-linear-gradient(45deg, #ff6b6b, #ff6b6b 20px, #ffd166 20px, #ffd166 40px); border-radius: 50% 50% 0 0; }
  @keyframes sway { from { transform: rotate(-2deg); } to { transform: rotate(2deg); } }
  
  .caranguejo { position: absolute; bottom: 20px; left: -50px; width: 40px; height: 30px; background: var(--crab-red); border-radius: 50% 50% 0 0; z-index: 12; animation: walk-crab 15s linear infinite; }
  .caranguejo::before, .caranguejo::after { content:''; position: absolute; top: 5px; width: 15px; height: 15px; background: var(--crab-red); border: 2px solid #a41623; border-radius: 50%; }
  .caranguejo::before { left: -10px; transform: rotate(-30deg); }
  .caranguejo::after { right: -10px; transform: rotate(30deg); }
  @keyframes walk-crab { 0% { transform: translateX(0); } 48% { transform: translateX(calc(1100px - 50px)) translateY(0); } 50% { transform: translateX(calc(1100px - 50px)) translateY(5px) rotateY(180deg); } 98% { transform: translateX(0) translateY(0) rotateY(180deg); } 100% { transform: translateX(0) translateY(5px) rotateY(0deg); } }

  .bulldog { position: absolute; bottom: 30px; left: 50%; width: 50px; height: 40px; background: var(--dog-brown); border-radius: 10px; z-index: 11; animation: play-dog 5s ease-in-out infinite; }
  .bulldog::before { content:''; position: absolute; top: -15px; left: 5px; width: 40px; height: 25px; background: var(--dog-brown); border-radius: 8px; } /* Cabe√ßa */
  .bulldog::after { content:''; position: absolute; top: -25px; left: 0px; width: 15px; height: 20px; background: var(--dog-brown); border-radius: 8px 8px 0 0; box-shadow: 25px 0 0 var(--dog-brown); } /* Orelhas */
  @keyframes play-dog { 0%, 100% { transform: translateX(0) rotate(0); } 25% { transform: translateX(-150px) rotate(-10deg); } 50% { transform: translateX(0) rotate(0) scaleY(0.8); } 75% { transform: translateX(150px) rotate(10deg); } }

  /* --- PERSONAGENS ESTILO DESENHO ANIMADO --- */
  .person-group-beach { position: absolute; bottom: 5px; width: 100%; display: flex; justify-content: center; gap: 30px; z-index: 10; }
  .person-char { width: 60px; height: 90px; position: relative; cursor: pointer; transition: transform 0.1s ease-out; }
  .person-char.hit { animation: shake 0.4s ease-in-out; }
  @keyframes shake { 0%, 100% { transform: translateY(0) translateX(0); } 20% { transform: translateY(0) translateX(-5px) rotate(-3deg); } 40% { transform: translateY(0) translateX(5px) rotate(3deg); } 60% { transform: translateY(0) translateX(-3px) rotate(-2deg); } 80% { transform: translateY(0) translateX(3px) rotate(2deg); } }
  .person-char .head { width: 40px; height: 40px; border-radius: 50%; position: absolute; left: 50%; top: -20px; transform: translateX(-50%); animation: blink 4s infinite step-end; }
  @keyframes blink { 21%, 41%, 61%, 81% { transform: translateX(-50%) scaleY(0.1); } 0%, 20%, 22%, 40%, 42%, 60%, 62%, 80%, 82%, 100% { transform: translateX(-50%) scaleY(1); } }
  .speech-bubble { position: absolute; top: -50px; left: 50%; transform: translateX(-50%); background: #ffffff; border: 1px solid #ccc; border-radius: 10px; padding: 5px 10px; font-size: 0.8em; white-space: nowrap; opacity: 0; animation: bubble-talk 3s ease-in-out infinite; pointer-events: none; z-index: 100; }
  @keyframes bubble-talk { 0%, 10%, 90%, 100% { opacity: 0; transform: translateX(-50%) translateY(5px); } 30%, 70% { opacity: 1; transform: translateX(-50%) translateY(0px); } }

  /* Estilos espec√≠ficos dos personagens (mantidos) */
  .p-jackson .char-body { width: 50px; height: 60px; background: #4a4a4a; border-radius: 10px; bottom: 0; left: 5px; }
  .p-jackson .head { background: var(--skin-dark); box-shadow: inset -6px -3px 0 0px #eee, inset 6px -3px 0 0px #eee; }
  .p-jackson::before { content: 'üëî'; font-size: 20px; position: absolute; top: 20px; left: 15px; z-index: 1; }
  
  .p-nathalia .char-body { width: 45px; height: 55px; background: #f8f9fa; border-radius: 8px; bottom: 0; left: 8px; }
  .p-nathalia .head { background: var(--skin-light); border-top: 6px solid black; border-radius: 50% 50% 0 0; }
  .p-nathalia::before { content: '‚öïÔ∏è'; font-size: 20px; position: absolute; top: 20px; left: 15px; color: red; }
  
  .p-diego .char-body { width: 50px; height: 58px; background: #007bff; border-radius: 10px; bottom: 0; left: 5px; }
  .p-diego .head { background: var(--skin-light); }
  .p-diego .head::before { content: ''; position: absolute; top: 6px; left: 3px; width: 14px; height: 6px; border: 2px solid #333; border-radius: 3px; box-shadow: 10px 0 0 #333; }
  .p-diego .head::after { content: ''; position: absolute; bottom: 0; left: 0; width: 100%; height: 70%; background: var(--hair-red); border-radius: 0 0 10px 10px; }
  .p-diego::before { content: 'üéß'; font-size: 12px; position: absolute; top: -2px; left: -8px; transform: rotate(-10deg); }

  .p-flavia .char-body { width: 48px; height: 56px; background: #e83e8c; border-radius: 8px; bottom: 0; left: 6px; }
  .p-flavia .head { background: var(--skin-light); border: 3px solid #8b4513; border-radius: 50%; }
  .p-flavia::before { content: '$'; font-size: 20px; font-weight: bold; color: #28a745; position: absolute; top: 20px; left: 18px; }
  
  .p-otavio .char-body { width: 52px; height: 60px; background: #28a745; border-radius: 10px; bottom: 0; left: 4px; }
  .p-otavio .head { background: var(--skin-light); border: 3px dotted #a0522d; border-radius: 50%; }
  .p-otavio::before { content: ''; position: absolute; top: -18px; left: 50%; transform: translateX(-50%); width: 30px; height: 12px; background: #ffc107; border-radius: 7px 7px 0 0; border-bottom: 3px solid #e0a800; z-index: 1; }
  
  .p-fernanda .char-body { width: 47px; height: 57px; background: #fd7e14; border-radius: 8px; bottom: 0; left: 7px; }
  .p-fernanda .head { background: var(--skin-light); border-top: 5px solid #f0e68c; border-radius: 50% 50% 0 0; }
  .p-fernanda::before { content: 'üëì'; font-size: 20px; position: absolute; top: -20px; left: 15px; z-index: 2; }
  .p-fernanda::after { content: '‚úÖ'; font-size: 18px; position: absolute; top: 20px; left: 18px; }
</style>
</head>
<body>
  <div class="stage">
    <header>
      <h1>Viagem pra praia ‚Äî Contagem regressiva</h1>
      <p class="lead">Data alvo: <strong>14 de novembro de 2025</strong></p>
    </header>

    <div class="countdown" id="countdown">
      <div class="time-card"><div class="num" id="days">0</div><div class="lbl">Dias</div></div>
      <div class="time-card"><div class="num" id="hours">0</div><div class="lbl">Horas</div></div>
      <div class="time-card"><div class="num" id="minutes">0</div><div class="lbl">Minutos</div></div>
      <div class="time-card"><div class="num" id="seconds">0</div><div class="lbl">Segundos</div></div>
    </div>

    <section class="animation-scene" id="animationScene">
      <div class="game-ui">
        <div class="score-box">Pontos: <span id="currentScore">0</span></div>
        <div class="score-box">Recorde: <span id="highScore">0</span></div>
      </div>
      <div class="mural-container">
        <h5>Mural de Recados</h5>
        <div class="mural-messages" id="muralMessages"></div>
        <input type="text" id="muralInput" placeholder="Sua mensagem..." maxlength="50">
        <button id="muralButton">Enviar</button>
      </div>

      <div class="sky">
        <div class="sun-beach"></div>
        <div class="cloud"></div><div class="cloud"></div><div class="cloud"></div>
        <div class="seagull"></div><div class="seagull" style="animation-delay: 7s;"></div>
      </div>
      
      <div class="beach-scene">
        <div class="sea-scene"></div>
        <div class="waves-animated"></div>
      </div>
      
      <div class="palm-tree-beach left"></div>
      <div class="palm-tree-beach right"></div>
      
      <div class="guarda-sol"></div>
      <div class="caranguejo"></div>
      <div class="bulldog"></div>

      <div class="person-group-beach">
        <div class="person-char p-jackson"><div class="speech-bubble">Jackson</div></div>
        <div class="person-char p-nathalia"><div class="speech-bubble">Nathalia</div></div>
        <div class="person-char p-diego"><div class="speech-bubble">Diego</div></div>
        <div class="person-char p-flavia"><div class="speech-bubble">Flavia</div></div>
        <div class="person-char p-otavio"><div class="speech-bubble">Otavio</div></div>
        <div class="person-char p-fernanda"><div class="speech-bubble">Fernanda</div></div>
      </div>
      
      <div class="beach-ball" id="beachBall"></div>
    </section>

    <div class="instructions">
      <h3>Como Interagir:</h3>
      <ul>
        <li><strong>Acerte o Alvo:</strong> Clique em qualquer lugar na cena para arremessar a bola de praia naquela dire√ß√£o! Se acertar um dos personagens, voc√™ ganha 10 pontos.</li>
        <li><strong>Recorde Online:</strong> Ao final de cada jogada, se sua pontua√ß√£o for maior que o recorde atual, voc√™ poder√° salvar seu nome para todos verem!</li>
        <li><strong>Mural de Recados:</strong> Deixe uma mensagem an√¥nima para todos verem em tempo real.</li>
      </ul>
    </div>
    
  </div>

<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore-compat.js"></script>
<script>
  // ====================================================================
  // COLE A CONFIGURA√á√ÉO DO SEU FIREBASE AQUI
  // <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
<script>
  // Seu firebaseConfig fica aqui
  const firebaseConfig = {
    apiKey: "AIzaSyB2p4GqwLNlAJFBEjllAZsdDWcUTuDqVZk",
    authDomain: "praia-d2e6b.firebaseapp.com",
    projectId: "praia-d2e6b",
    storageBucket: "praia-d2e6b.appspot.com",
    messagingSenderId: "814972166582",
    appId: "1:814972166582:web:7ad70337cffb18d3336117"
  };
  // Inicializa o Firebase
  firebase.initializeApp(firebaseConfig);
</script>



<script>
  // --- L√ìGICA DA CONTAGEM REGRESSIVA ---
  const targetDate = new Date('2025-11-14T00:00:00');
  function pad(n){return String(n).padStart(2,'0');}
  function updateCountdown() {
    const now = new Date();
    const diff = targetDate - now;
    if (diff <= 0) {
      document.querySelectorAll('.num').forEach(el => el.textContent = "00");
      return;
    }
    const sec = Math.floor(diff / 1000);
    const d = Math.floor(sec / 86400);
    const h = Math.floor((sec % 86400) / 3600);
    const m = Math.floor((sec % 3600) / 60);
    const s = sec % 60;
    document.getElementById('days').textContent = pad(d);
    document.getElementById('hours').textContent = pad(h);
    document.getElementById('minutes').textContent = pad(m);
    document.getElementById('seconds').textContent = pad(s);
  }
  updateCountdown();
  setInterval(updateCountdown, 1000);

  // --- L√ìGICA DO JOGO "ACERTE O ALVO" ---
  const beachBall = document.getElementById('beachBall');
  const characters = document.querySelectorAll('.person-char');
  const currentScoreEl = document.getElementById('currentScore');
  const highScoreEl = document.getElementById('highScore');
  const scene = document.getElementById('animationScene');

  let currentScore = 0;
  let highScore = 0;
  
  // Fun√ß√£o para carregar o recorde do Firebase
  async function loadHighScore() {
    const scoresRef = db.collection('scores').orderBy('score', 'desc').limit(1);
    try {
      const snapshot = await scoresRef.get();
      if (!snapshot.empty) {
        highScore = snapshot.docs[0].data().score;
        const scorer = snapshot.docs[0].data().name;
        highScoreEl.textContent = `${highScore} (${scorer})`;
      } else {
        highScoreEl.textContent = "Nenhum";
      }
    } catch (e) {
      console.error("Erro ao carregar placar:", e);
      highScoreEl.textContent = "Erro";
    }
  }

  // Fun√ß√£o para salvar um novo recorde
  async function saveNewHighScore() {
    const name = prompt("Novo recorde! Digite seu nome:", "An√¥nimo");
    if (name) {
      try {
        await db.collection('scores').add({
          name: name,
          score: currentScore,
          createdAt: firebase.firestore.FieldValue.serverTimestamp()
        });
        highScore = currentScore;
        highScoreEl.textContent = `${highScore} (${name})`;
      } catch (e) {
        console.error("Erro ao salvar placar:", e);
      }
    }
  }

  // L√≥gica de arremesso
  scene.addEventListener('click', (e) => {
    // Impede o arremesso se clicar em um personagem, no mural ou se a bola j√° foi arremessada
    if (e.target.closest('.person-char') || e.target.closest('.mural-container') || beachBall.classList.contains('thrown')) {
        return; 
    }

    const ballRect = beachBall.getBoundingClientRect();
    const sceneRect = scene.getBoundingClientRect();
    const targetX = e.clientX - sceneRect.left;
    const targetY = e.clientY - sceneRect.top;

    beachBall.style.setProperty('--target-x', `${targetX - ballRect.left - (ballRect.width / 2)}px`);
    beachBall.style.setProperty('--target-y', `${targetY - ballRect.top - (ballRect.height / 2)}px`);
    beachBall.classList.add('thrown');

    setTimeout(() => {
      const thrownBallRect = beachBall.getBoundingClientRect();
      let hit = false;
      characters.forEach(char => {
        const charRect = char.getBoundingClientRect();
        if (
          thrownBallRect.left < charRect.right && thrownBallRect.right > charRect.left &&
          thrownBallRect.top < charRect.bottom && thrownBallRect.bottom > charRect.top
        ) {
          hit = true;
          char.classList.add('hit'); // Anima√ß√£o de "porrada"
          setTimeout(() => char.classList.remove('hit'), 400);
        }
      });

      if(hit) {
        currentScore += 10;
        currentScoreEl.textContent = currentScore;
      }
    }, 250); 

    setTimeout(() => {
      beachBall.classList.remove('thrown');
      if (currentScore > highScore) {
        saveNewHighScore();
      }
    }, 500);
  });

  // --- L√ìGICA DO MURAL DE RECADOS ---
  const muralMessages = document.getElementById('muralMessages');
  const muralInput = document.getElementById('muralInput');
  const muralButton = document.getElementById('muralButton');

  muralButton.addEventListener('click', async () => {
    const message = muralInput.value.trim();
    if (message) {
      muralInput.value = '';
      try {
        await db.collection('messages').add({
          text: message,
          createdAt: firebase.firestore.FieldValue.serverTimestamp()
        });
      } catch (e) {
        console.error("Erro ao enviar mensagem:", e);
      }
    }
  });

  db.collection('messages').orderBy('createdAt', 'desc').limit(10)
    .onSnapshot(snapshot => {
      muralMessages.innerHTML = ''; 
      snapshot.forEach(doc => {
        const msg = document.createElement('div');
        msg.textContent = doc.data().text;
        muralMessages.appendChild(msg);
      });
    }, err => {
      console.error("Erro ao ouvir mensagens:", err);
    });

  // Carregar dados iniciais
  loadHighScore();

</script>
</body>

</html>
